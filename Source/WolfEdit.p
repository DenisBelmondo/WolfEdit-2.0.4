program WolfEdit;	uses{$IFC NOT Demo}		UEditEnemies, {$ENDC}		UGoof, UDialog,{}		UCursors, UWolfDoc, UAbout, UExtension, {}		UMapCellsView, UMapPalette, UMusic, ULevelInfo,{}		UMapListDoc, UImageCache, USoundDialog;	const		memWarnAlrtID = 131;		aboutBoxDlogID = 129;		peekArtCmd = 290;	type		TWolfEditApp = object(TApplication)				function MakeOwnDocument: TDocument;				override;				procedure DoInitialDefault;				override;				procedure TWolfEditApp.DoNew;				override;				procedure Idle;				override;				procedure DoAbout;				override;				procedure SetupMenus;				override;				procedure DoMenuCommand (cmdNumber: integer);				override;			end;	var		gWolfEditApp: TWolfEditApp;		gMemWarningLevel: longint;		gMemWarningGiven: boolean;	procedure InitEncounter;		var			menu, item: integer;	begin		if gEncounter = 0 then begin				CmdToMenuItem(firstEncounterCmd, menu, item);				if (menu = 0) and (item = 0) then					gEncounter := 3				else begin						gMultiEncounter := true;						gEncounter := 1;					end;			end;	end;	function TWolfEditApp.MakeOwnDocument: TDocument;		var			map: TMapListDoc;	begin		new(map);		map.IMapListDoc;		MakeOwnDocument := map;	end;	procedure TWolfEditApp.DoInitialDefault;	begin		InitEncounter;		DoNew;	end;	procedure TWolfEditApp.DoNew;	begin		inherited DoNew;	end;	procedure TWolfEditApp.Idle;	begin		if FreeMem < gMemWarningLevel then begin				if not gMemWarningGiven then begin						DoAlert(memWarnAlrtID);						gMemWarningGiven := true;					end;			end		else			gMemWarningGiven := false;		inherited Idle;	end;	procedure TWolfEditApp.DoAbout;	begin		ShowAboutBox;	end;	procedure TWolfEditApp.SetupMenus;	begin		EnableCmd(peekArtCmd);		inherited SetupMenus;	end;	procedure TWolfEditApp.DoMenuCommand (cmdNumber: integer);	begin		inherited DoMenuCommand(cmdNumber);	end;	procedure SetupTextWindow;		var			r: Rect;	begin		SetRect(r, 4, 400, 300, 476);		SetTextRect(r);		ShowText;	end;begin{SetupTextWindow;}{DebugStr('Started');}	gMultiEncounter := false;	gEncounter := 0;	InitCursor;	LoadExtensions;	IUCursors;	IUImageCache;	IUMapCellsView;	IUMapPalette;	IUAbout;	IUMusic;	IULevelInfo;	IUMapListDoc;	IUSoundDialog;{$IFC NOT Demo}	IUEditEnemies;{$ENDC}	gMemWarningLevel := 65536;	gMemWarningGiven := false;	new(gWolfEditApp);	gWolfEditApp.IApplication('W3E2');	InitEncounter;	gWolfEditApp.Run;end.