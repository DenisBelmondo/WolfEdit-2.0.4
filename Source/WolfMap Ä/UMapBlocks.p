unit UMapBlocks;interface	uses		HexIO, UMapParams, ULevel, UDrawing;	procedure MapBlocks (h: LevelHandle;									layers: MapLayers;									minRow, maxRow, minCol, maxCol: integer);implementation	procedure MapBlocks (h: LevelHandle;									layers: MapLayers;									minRow, maxRow, minCol, maxCol: integer);		var			row, col, code: integer;			r: Rect;	begin		if layers * [blockLayer, blockCodeLayer] <> [] then begin				for row := minRow to maxRow do					for col := minCol to maxCol do begin							code := h^^.map[row, col];							SetRect(r, 0, 0, cellSize, cellSize);							OffsetRect(r, margin + col * cellSize, margin + row * cellSize);							if blockLayer in layers then								if code >= 128 then begin										FillRect(r, gray);									end;							if blockCodeLayer in layers then begin									MoveTo(r.left + cellSize div 4, r.top + cellSize div 4);									BoxText(Hex(code, 2));								end;						end;			end;	end;end.